!function(e){function t(s){if(n[s])return n[s].exports;var r=n[s]={exports:{},id:s,loaded:!1};return e[s].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";function n(e,t){function n(){s?(s=!1,e.send(JSON.stringify({mode:"access-control:setWritable",aceId:t.id}))):(s=!0,e.send(JSON.stringify({mode:"access-control:setReadOnly",aceId:t.id})))}var s=void 0,r=window.prompt("You are a: lecturer (1), student (2)",1),o="1"===r?"lecturer":"student",i=document.createElement("span"),c=void 0;"lecturer"===o?(c=document.createElement("button"),c.style.cssText="position: absolute; top: 0; right: 0;",c.innerHTML="toggle",t.container.appendChild(c),c.addEventListener("click",n),e.send(JSON.stringify({mode:"access-control:init-lecturer",aceId:t.id}))):(i.innerHTML="LOADING",i.style.cssText="position: absolute; bottom: 0; right: 0",t.container.appendChild(i),e.send(JSON.stringify({mode:"access-control:init-student",aceId:t.id}))),e.addEventListener("message",function(e){switch(e.data){case"access-control:setReadOnly":s=!0,"student"===o?(t.setReadOnly(!0),i.innerHTML="READ ONLY"):c.innerHTML="toggle writable";break;case"access-control:setWritable":s=!1,"student"===o?(t.setReadOnly(!1),i.innerHTML="WRITABLE"):c.innerHTML="toggle read-only"}})}e.exports=n}]);